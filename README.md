# lab_456
Вкратце, что было сделано по каждой лабе:

4:
По страницам все интуитивно понятно (Посмотреть все букеты - list.php, заказать - index.php с конкретным id)
В версии админа все кроме редактируемых элементов имеет серый фильтр
Кнопка каталог в header - ссылка на index.php
Определение пользователь - админ или нет происходит с помощью переменной сессии. Соответсвенно сессия хранится 24 минуты (по стандарту);
Чтобы войти в разные версии сайта надо либо использовать разные браузеры, либо устройства

5:

Пароль хранится в хэшированном виде, другие данные - нет (не смысла)
В остальном все понятно

6:
Везде использован JSON, кроме создания и редактирования букетов (Там используется FormData, ибо загружать изображения через Json сложно и не имеет смысла, так как base64 увеличивает размер изображения, а в данной лабораторной работе и так есть проблема с форматом jpeg(jpeg я привожу к jpg, это происходит довольно долго))
На страницах index.php, index.php?id='id' и list.php каждые 2 секунды происходит проверка на наличие обновлений данных, в случае если данные(букеты) были изменены, то страницы динамически изменятся (Например, если перейти на страницу index.php?id=2, а в другой вкладке удалить ее, то в течение 2 секунд вас переадресуют на страницу c ошибкой 404)
В случае index.php и list.php сначала импортируется букеты простым require_once, а затем уже проверяются аякс запросами, так как если выполнять аяксом сразу, то иногда страница прогружается с задержкой
index.php?id='id' работает сразу с аяксом
В остальном все понятно

Теперь, почему так много файлов:
reg.php - начальный файл (вход)
input.php - джава обращается к этому файлу для проверки логина и пароля

every_2.js - js который аякс запросом каждые 2 секунды формирует содержание страницы list.php (внутри index.php лежит почти такой же js, отличающийся наличием ссылки на list.php)
all_bouqets_import.php - изначальный импорт всех букетов в index.php и list.php (как я писал выше)
index.php - по заданию 
database.php - файл для работы с бд
error_404.php - файл ошибки 404
list.php - по заданию
every_2_import_all_bouqets.php - джава обращается к этому файлу для импорта всех букетов (каждые 2 секунды) в index.php
one_bouqets.php - джава обращается к этому файлу для импорта конкретного букета (каждые 2 секунды)

append.php - по заданию
newEl.js - кидает аякс запрос на new_create.php
new_create.php - джава обращается к этому файлу для создания букета

update.php - по заданию
preview.js - кидает аякс запрос на change.php
change.php - джава обращается к этому файлу для редактирования букета

createElement.js - js который при нажатие на кнопки предосмотр (в append и update) показывает как будет выглядеть данный букет

delete.php - по заданию
destroy.php - джава обращается к этому файлу для удаления букета

footer.html - header всех пользовательских страниц
header.html - footer всех пользовательских страниц
